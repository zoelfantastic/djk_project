(this.webpackJsonpdjk_project=this.webpackJsonpdjk_project||[]).push([[0],{195:function(e,a,t){},229:function(e,a,t){e.exports=t(422)},239:function(e,a,t){},240:function(e,a,t){},266:function(e,a,t){},414:function(e,a,t){},415:function(e,a,t){},418:function(e,a,t){},419:function(e,a,t){},420:function(e,a,t){},421:function(e,a,t){},422:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(28),i=t.n(r),c=t(121),o=t(97),s=t(79),m=t(58),d=Object(m.b)(),u=t(224),p=t(201),h=t(170),E=t(114),f={router:Object(E.b)(d)},b=[Object(h.a)(d),p.a].filter(Boolean);var y=function(e){return Object(s.d)(Object(s.c)(f),e,s.a.apply(void 0,Object(u.a)(b)))}();var g=y,k=(t(239),t(22)),v=t(23),j=t(27),D=t(26),O=t(38),I=t(57),C=t(74),P=t(423),S=t(435),R=(t(240),t(436)),x=t(437),w=t(438),_=C.a.SubMenu,Y=P.a.Header,M=P.a.Content,T=(P.a.Footer,P.a.Sider),z=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).toggle=function(){n.setState({collapsed:!n.state.collapsed})},n.state={collapsed:!1},n}return Object(v.a)(t,[{key:"render",value:function(){var e=this.props,a=e.children,t=e.title,n=(e.menu,a.props.path.split("/").filter((function(e){return e}))),r=n.map((function(e,a){var r="/".concat(n.slice(0,a+1).join("/"));return l.a.createElement(S.a.Item,{key:r},l.a.createElement(I.a,{to:r},t))})),i=[l.a.createElement(S.a.Item,{key:"home"},l.a.createElement(I.a,{to:"/home"},"Home"))].concat(r);return l.a.createElement(P.a,{key:"mainlayout",className:"mainlayout"},l.a.createElement(Y,{className:"header"},l.a.createElement("div",{className:"logo"},l.a.createElement("span",null,l.a.createElement("h1",{style:{color:"#fff"}},"LOGO")))),l.a.createElement(P.a,null,l.a.createElement(T,{width:200,className:"site-layout-background"},l.a.createElement(C.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0}},l.a.createElement(_,{key:"projects",icon:l.a.createElement(R.a,null),title:"Projects"},l.a.createElement(C.a.Item,{key:"1"},l.a.createElement("span",null,"List Project"),l.a.createElement(I.a,{to:"/project"}))),l.a.createElement(_,{key:"pipeline",icon:l.a.createElement(x.a,null),title:"Pipeline"},l.a.createElement(C.a.Item,{key:"2"},l.a.createElement("span",null,"List Pipeline"),l.a.createElement(I.a,{to:"/pipeline"}))),l.a.createElement(_,{key:"laporan",icon:l.a.createElement(w.a,null),title:"Laporan"},l.a.createElement(C.a.Item,{key:"3"},l.a.createElement("span",null,"Ringkasan Kinerja DJK"),l.a.createElement(I.a,{to:"/ringkasan-kinerja"})),l.a.createElement(C.a.Item,{key:"4"},l.a.createElement("span",null,"Sebaran Proyek DJK"),l.a.createElement(I.a,{to:"/sebaran-proyek"})),l.a.createElement(C.a.Item,{key:"5"},l.a.createElement("span",null,"Mandat Carry-Over"),l.a.createElement(I.a,{to:"/mandat-co"})),l.a.createElement(C.a.Item,{key:"6"},l.a.createElement("span",null,"New Client"),l.a.createElement(I.a,{to:"/new-client"})),l.a.createElement(C.a.Item,{key:"7"},l.a.createElement("span",null,"Proses Mandat"),l.a.createElement(I.a,{to:"/proses-mandat"})),l.a.createElement(C.a.Item,{key:"8"},l.a.createElement("span",null,"Pergerakan Pipeline"),l.a.createElement(I.a,{to:"/pergerakan-pipeline"})),l.a.createElement(C.a.Item,{key:"9"},l.a.createElement("span",null,"Permasalahan Proyek"),l.a.createElement(I.a,{to:"/permasalahan-proyek"}))))),l.a.createElement(P.a,{style:{padding:"0 24px 24px"}},l.a.createElement(S.a,{style:{margin:"12px 0"}},i),l.a.createElement(M,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280}},a))))}}]),t}(n.PureComponent),A=l.a.createContext(),K=function(e){var a="withAppContext(".concat(e.displayName||e.name,")"),t=function(a){var t=Object(n.useContext)(A);return l.a.createElement(e,Object.assign({},a,{appContext:t}))};return t.displayName=a,t.WrappedComponent=e,t},F=A.Provider,N=function(e){var a=e.appContext,t=e.children;return l.a.createElement(F,{value:a},l.a.Children.map(t,(function(e){return l.a.cloneElement(e,{appContext:a})})))},B=t(424),J=(t(266),K(function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){return Object(k.a)(this,t),a.call(this,e)}return Object(v.a)(t,[{key:"onChange",value:function(e,a,t){console.log(e,a,t)}},{key:"render",value:function(){return l.a.createElement(B.a,{autoplay:!0},l.a.createElement("div",null,l.a.createElement("h3",null,"1")),l.a.createElement("div",null,l.a.createElement("h3",null,"2")),l.a.createElement("div",null,l.a.createElement("h3",null,"3")),l.a.createElement("div",null,l.a.createElement("h3",null,"4")))}}]),t}(n.PureComponent))),V=t(48),L=t(49),H=t(145),W=t(432),U=t(425),G=t(40),$=t(36),q=t(96),Q=t.n(q),X=function(){function e(a){var t=this;Object(k.a)(this,e),this.getBaseURL=function(){return t.appContext.appConfig.backendUrl},this.appContext=a}return Object(v.a)(e,[{key:"getData",value:function(e){return e=this.getBaseURL().concat(e),Q.a.get(e).then((function(e){return e.data})).catch((function(e){throw e}))}},{key:"postData",value:function(e,a){return e=this.getBaseURL().concat(e),Q.a.post(e,a).then((function(e){return e.data})).catch((function(e){throw e}))}},{key:"putData",value:function(e,a){return e=this.getBaseURL().concat(e),Q.a.put(e,a).then((function(e){return e.data})).catch((function(e){throw e}))}},{key:"deleteData",value:function(e){return e=this.getBaseURL().concat(e),Q.a.delete(e).then((function(e){return e.data})).catch((function(e){throw e}))}}]),e}(),Z=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){return Object(k.a)(this,t),a.call(this,e)}return Object(v.a)(t,[{key:"getDataProject",value:function(){return Object(G.a)(Object($.a)(t.prototype),"getData",this).call(this,"project")}},{key:"getDataProjectById",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"getData",this).call(this,"project/".concat(e))}},{key:"updateDataProject",value:function(e,a){return Object(G.a)(Object($.a)(t.prototype),"putData",this).call(this,"project/".concat(e),a)}},{key:"deleteDataProject",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"deleteData",this).call(this,"project/".concat(e))}},{key:"addDataProject",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"postData",this).call(this,"project",e)}}]),t}(X),ee=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){return Object(k.a)(this,t),a.call(this,e)}return Object(v.a)(t,[{key:"getDataRealisasi",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"getData",this).call(this,"realisasi?".concat(e))}},{key:"getDataRealisasiById",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"getData",this).call(this,"realisasi/".concat(e))}},{key:"updateDataRealisasi",value:function(e,a){return Object(G.a)(Object($.a)(t.prototype),"putData",this).call(this,"realisasi/".concat(e),a)}},{key:"deleteDataRealisasi",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"deleteData",this).call(this,"realisasi/".concat(e))}},{key:"addDataRealisasi",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"postData",this).call(this,"realisasi",e)}}]),t}(X),ae=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){return Object(k.a)(this,t),a.call(this,e)}return Object(v.a)(t,[{key:"getDataPipeline",value:function(){return Object(G.a)(Object($.a)(t.prototype),"getData",this).call(this,"pipeline")}},{key:"getDataPipelineById",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"getData",this).call(this,"pipeline/".concat(e))}},{key:"updateDataPipeline",value:function(e,a){return Object(G.a)(Object($.a)(t.prototype),"putData",this).call(this,"pipeline/".concat(e),a)}},{key:"deleteDataPipeline",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"deleteData",this).call(this,"pipeline/".concat(e))}},{key:"addDataPipeline",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"postData",this).call(this,"pipeline",e)}}]),t}(X),te=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){return Object(k.a)(this,t),a.call(this,e)}return Object(v.a)(t,[{key:"getDataRencanaKerja",value:function(){return Object(G.a)(Object($.a)(t.prototype),"getData",this).call(this,"rencana-kerja")}},{key:"getDataRencanaKerjaById",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"getData",this).call(this,"rencana-kerja/".concat(e))}},{key:"updateRencanaKerja",value:function(e,a){return Object(G.a)(Object($.a)(t.prototype),"putData",this).call(this,"rencana-kerja/".concat(e),a)}},{key:"deleteRencanaKerja",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"deleteData",this).call(this,"rencana-kerja/".concat(e))}},{key:"addDataRencanaKerja",value:function(e){return Object(G.a)(Object($.a)(t.prototype),"postData",this).call(this,"rencana-kerja",e)}}]),t}(X),ne=(t(440),t(441),t(442),t(443)),le=t(439),re=t(431),ie=t(122),ce=t(427),oe=t(109),se=t(70),me=t(426),de=t(430),ue=re.a.TextArea,pe=ie.a.Option,he={labelCol:{xs:{span:24},sm:{span:12}},wrapperCol:{xs:{span:12},sm:{span:18}}},Ee=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(){return Object(k.a)(this,t),a.apply(this,arguments)}return Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.form}},{key:"render",value:function(){var e=this.props.form;return l.a.createElement("div",{className:"edit-project-form"},l.a.createElement(ce.a,Object.assign({},he,{colon:!1,ref:e}),l.a.createElement(oe.a,{gutter:8},l.a.createElement(se.a,{span:12},l.a.createElement(ce.a.Item,{label:"Kode Proyek",name:"id"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Nama Proyek",name:"proyek"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Pemilik Proyek",name:"pemilik_proyek"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Deskripsi Proyek",name:"deskripsi_proyek"},l.a.createElement(ue,{rows:2})),l.a.createElement(ce.a.Item,{label:"Nama Client",name:"klien"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Wilayah Proyek",name:"wilayah_proyek"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Tanggal Mulai",name:"tgl_mulai"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small"})),l.a.createElement(ce.a.Item,{label:"Tanggal Jatuh Tempo",name:"tgl_jatuh_tempo"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small"})),l.a.createElement(ce.a.Item,{label:"Tahap",name:"tahap"},l.a.createElement(ie.a,{style:{width:160}},l.a.createElement(pe,{value:"1"},"Tahap 1"),l.a.createElement(pe,{value:"2"},"Tahap 2"),l.a.createElement(pe,{value:"3"},"Tahap 3"))),l.a.createElement(ce.a.Item,{label:"Status",name:"status"},l.a.createElement(ie.a,{style:{width:160}},l.a.createElement(pe,{value:"1"},"Dalam Pengerjaan"),l.a.createElement(pe,{value:"2"},"Pengerjaan Telah Selesai")))),l.a.createElement(se.a,{span:12},l.a.createElement(ce.a.Item,{label:"Jenis Jasa",name:"jenis_jasa"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Mata Uang",name:"mata_uang"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Potensi Pendapatan (IDR)",name:"potensi_pendapatan"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Tanggal SPK",name:"tgl_spk"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small"})),l.a.createElement(ce.a.Item,{label:"Nomor SPK",name:"no_spk"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Tanggal Kontrak",name:"tgl_kontrak"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small"})),l.a.createElement(ce.a.Item,{label:"Nomor Kontrak",name:"no_kontrak"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Nomor BAST",name:"no_bast"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Tanggal BAST",name:"tgl_bast"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small"}))))))}}]),t}(n.PureComponent),fe=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(){var e;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=a.call.apply(a,[this].concat(r))).formRef=l.a.createRef(),e.handleSave=function(){e.formRef.current.validateFields().then((function(a){e.props.onSaveChange(a)}))},e}return Object(v.a)(t,[{key:"render",value:function(){var e=Object.assign({},this.props);return l.a.createElement(de.a,Object.assign({},e,{onOk:this.handleSave}),l.a.createElement(Ee,{form:this.formRef}))}}]),t}(n.PureComponent),be=t(433),ye=t(428),ge=t(434),ke="CREATE",ve=[{title:"No",dataIndex:"id",key:"id",width:80},{title:"Nama Task",dataIndex:"nama_task",key:"nama_task",width:150},{title:"Start Date",dataIndex:"start_date",key:"start_date",width:150},{title:"End Date",dataIndex:"end_date",key:"end_date",width:150}],je=function(e){e.handlers;var a=e.record,t=e.handlerMenu,n=a.id,r=l.a.createElement(C.a,{onClick:t},l.a.createElement(C.a.Item,{key:"edit",recordId:n},"Edit"),l.a.createElement(C.a.Item,{key:"delete",recordId:n},"Delete"));return l.a.createElement(H.a,{overlay:r},l.a.createElement(le.a,null))},De=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).fetchData=function(){n.rencanaKerjaService.getDataRencanaKerja().then((function(e){n.setState({data:e,loading:!1,selectedRecordId:void 0})}))},n.getColumns=function(){var e=ve.map((function(e){e.sortFunc;return Object(V.a)(e,["sortFunc"])}));return e.push({title:"Action",key:"actionColumn",render:n.actionColumnRenderer}),e},n.actionColumnRenderer=function(e,a){var t={editHandler:n.handleEdit,addHandler:n.handleAdd,deleteHandler:n.handleDelete};return l.a.createElement(je,{record:a,handlers:t,handlerMenu:n.handleClickActionMenu})},n.handleAdd=function(){n.setState({loading:!1,action:ke,selectedRecord:void 0,addFormVisible:!0,selectedRecordId:void 0})},n.handleEdit=function(e){},n.handleDelete=function(e){},n.handleClickActionMenu=function(e){var a=e.item.props.recordId;switch(e.key){case"edit":n.handleEdit(a);break;case"add":n.handleAdd();break;case"delete":n.handleDelete(a)}},n.rencanaKerjaService=new te(e.appContext),n.state={data:[],loading:!1,editFormVisible:!1,action:void 0,selectedRecordId:void 0,selectedRecord:void 0},n}return Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0},(function(){return e.fetchData()}))}},{key:"render",value:function(){var e=this.state,a=e.data,t=e.loading;return l.a.createElement("div",null,l.a.createElement(U.a,{columns:this.getColumns(),dataSource:a,rowKey:"kode_proyek",loading:!!t&&{size:"large",tip:"Memuat data..."}}))}}]),t}(n.PureComponent),Oe=(t(195),t(50)),Ie=t.n(Oe),Ce=re.a.TextArea,Pe=ie.a.Option,Se={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},Re=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(){return Object(k.a)(this,t),a.apply(this,arguments)}return Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.record;e.form.current.setFieldsValue({id:a.id,proyek:a.proyek,pemilik_proyek:a.pemilik_proyek,deskripsi_proyek:a.deskripsi_proyek,klien:a.klien,wilayah_proyek:a.wilayah_proyek,tgl_mulai:Ie()(Ie()(a.tgl_mulai).format("YYYY-MM-DD"),"YYYY-MM-DD"),tgl_jatuh_tempo:Ie()(Ie()(a.tgl_jatuh_tempo).format("YYYY-MM-DD"),"YYYY-MM-DD")})}},{key:"render",value:function(){var e=this.props.form;return l.a.createElement("div",{className:"edit-project-form"},l.a.createElement(ce.a,Object.assign({},Se,{colon:!1,ref:e}),l.a.createElement(oe.a,{gutter:8},l.a.createElement(se.a,{span:12},l.a.createElement(ce.a.Item,{label:"Kode Proyek",name:"id"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Nama Proyek",name:"proyek"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Pemilik Proyek",name:"pemilik_proyek"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Deskripsi Proyek",name:"deskripsi_proyek"},l.a.createElement(Ce,{rows:2,disabled:!0})),l.a.createElement(ce.a.Item,{label:"Nama Client",name:"klien"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Wilayah Proyek",name:"wilayah_proyek"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Tanggal Mulai",name:"tgl_mulai"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small"})),l.a.createElement(ce.a.Item,{label:"Tanggal Jatuh Tempo",name:"tgl_jatuh_tempo"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small"})),l.a.createElement(ce.a.Item,{label:"Tahap",name:"tahap"},l.a.createElement(ie.a,{style:{width:160}},l.a.createElement(Pe,{value:"1"},"Tahap 1"),l.a.createElement(Pe,{value:"2"},"Tahap 2"),l.a.createElement(Pe,{value:"3"},"Tahap 3"))),l.a.createElement(ce.a.Item,{label:"Status",name:"status"},l.a.createElement(ie.a,{style:{width:160}},l.a.createElement(Pe,{value:"1"},"Dalam Pengerjaan"),l.a.createElement(Pe,{value:"2"},"Pengerjaan Telah Selesai")))),l.a.createElement(se.a,{span:12},l.a.createElement(ce.a.Item,{label:"Jenis Jasa",name:"jenis_jasa"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Mata Uang",name:"mata_uang"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Potensi Pendapatan (IDR)",name:"potensi_pendapatan"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Tanggal SPK",name:"tgl_spk"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Nomor SPK",name:"no_spk"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Tanggal Kontrak",name:"tgl_kontrak"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Nomor Kontrak",name:"no_kontrak"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Nomor BAST",name:"no_bast"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Tanggal BAST",name:"tgl_bast"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small"}))))))}}]),t}(n.PureComponent),xe=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).formRef=l.a.createRef(),n.showDrawer=function(e){n.setState({visibleDrawer:!0,tipe:e})},n.onClose=function(){n.setState({visibleDrawer:!1})},n.handleSave=function(e){n.formRef.current.validateFields().then((function(e){n.props.onSaveChange(e)}))},n.renderDetail=function(){var e=n.props.appContext;switch(n.state.tipe){case"rencana-kerja":return l.a.createElement(De,{appContext:e})}},n.state={visibleDrawer:!1,tipe:""},n}return Object(v.a)(t,[{key:"render",value:function(){var e=this.props,a=e.appContext,t=e.record,n=(e.form,Object(V.a)(e,["appContext","record","form"]));return l.a.createElement(de.a,Object.assign({},n,{onOk:this.handleSave}),l.a.createElement("div",{className:"rencana-drawer-render-in-current-wrapper"},l.a.createElement(be.a,{title:"",placement:"top",closable:!0,onClose:this.onClose,visible:this.state.visibleDrawer,getContainer:!1,style:{position:"absolute"}},l.a.createElement(De,{appContext:a})),l.a.createElement(Re,{record:t,form:this.formRef}),l.a.createElement(ye.a,null,l.a.createElement(oe.a,{gutter:2,style:{textAlign:"center"}},l.a.createElement(se.a,{span:6},l.a.createElement(ge.a,{title:"Rencana Kerja (Mandays)",value:400,valueStyle:{fontSize:"smaller"}}),l.a.createElement(L.a,{style:{marginTop:16},type:"primary",onClick:this.showDrawer,size:"small"},"Detail")),l.a.createElement(se.a,{span:6},l.a.createElement(ge.a,{title:"Rencana Personel (Person)",value:5,valueStyle:{fontSize:"smaller"}}),l.a.createElement(L.a,{style:{marginTop:16},type:"primary",size:"small"},"Detail")),l.a.createElement(se.a,{span:6},l.a.createElement(ge.a,{title:"Rencana Biaya",value:35e8,valueStyle:{fontSize:"smaller"},prefix:"Rp."}),l.a.createElement(L.a,{style:{marginTop:16},type:"primary",size:"small"},"Detail")),l.a.createElement(se.a,{span:6},l.a.createElement(ge.a,{title:"Nilai Ambil Jasa",value:2,valueStyle:{fontSize:"smaller"},prefix:"Rp."}),l.a.createElement(L.a,{style:{marginTop:16},type:"primary",size:"small"},"Detail"))))))}}]),t}(n.PureComponent),we=t(429),_e=re.a.TextArea,Ye=ie.a.Option,Me={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},Te=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(){return Object(k.a)(this,t),a.apply(this,arguments)}return Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.record;e.form.current.setFieldsValue({id:a.id,proyek:a.proyek,pemilik_proyek:a.pemilik_proyek,deskripsi_proyek:a.deskripsi_proyek,klien:a.klien,wilayah_proyek:a.wilayah_proyek,tgl_mulai:Ie()(Ie()(a.tgl_mulai).format("YYYY-MM-DD"),"YYYY-MM-DD"),tgl_jatuh_tempo:Ie()(Ie()(a.tgl_jatuh_tempo).format("YYYY-MM-DD"),"YYYY-MM-DD")})}},{key:"render",value:function(){var e=this.props.form;return l.a.createElement("div",{className:"edit-project-form"},l.a.createElement(ce.a,Object.assign({},Me,{colon:!1,ref:e}),l.a.createElement(oe.a,{gutter:8},l.a.createElement(se.a,{span:12},l.a.createElement(ce.a.Item,{label:"Kode Proyek",name:"id"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Nama Proyek",name:"proyek"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Pemilik Proyek",name:"pemilik_proyek"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Deskripsi Proyek",name:"deskripsi_proyek"},l.a.createElement(_e,{rows:2,disabled:!0})),l.a.createElement(ce.a.Item,{label:"Nama Client",name:"klien"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Wilayah Proyek",name:"wilayah_proyek"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Tanggal Mulai",name:"tgl_mulai"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small"})),l.a.createElement(ce.a.Item,{label:"Tanggal Jatuh Tempo",name:"tgl_jatuh_tempo"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small"})),l.a.createElement(ce.a.Item,{label:"Tahap",name:"tahap"},l.a.createElement(ie.a,{style:{width:160}},l.a.createElement(Ye,{value:"1"},"Tahap 1"),l.a.createElement(Ye,{value:"2"},"Tahap 2"),l.a.createElement(Ye,{value:"3"},"Tahap 3"))),l.a.createElement(ce.a.Item,{label:"Status",name:"status"},l.a.createElement(ie.a,{style:{width:160}},l.a.createElement(Ye,{value:"1"},"Dalam Pengerjaan"),l.a.createElement(Ye,{value:"2"},"Pengerjaan Telah Selesai")))),l.a.createElement(se.a,{span:12},l.a.createElement(ce.a.Item,{label:"Jenis Jasa",name:"jenis_jasa"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Mata Uang",name:"mata_uang"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Potensi Pendapatan (IDR)",name:"potensi_pendapatan"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Tanggal SPK",name:"tgl_spk"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Nomor SPK",name:"no_spk"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Tanggal Kontrak",name:"tgl_kontrak"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Nomor Kontrak",name:"no_kontrak"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Nomor BAST",name:"no_bast"},l.a.createElement(re.a,{size:"small"})),l.a.createElement(ce.a.Item,{label:"Tanggal BAST",name:"tgl_bast"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small"}))))))}}]),t}(n.PureComponent),ze=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).formRef=l.a.createRef(),n.showDrawer=function(e){n.setState({visibleDrawer:!0,tipe:e})},n.onClose=function(){n.setState({visibleDrawer:!1})},n.handleSave=function(e){n.formRef.current.validateFields().then((function(e){n.props.onSaveChange(e)}))},n.renderDetail=function(){n.props.appContext;n.state.tipe},n.state={visibleDrawer:!1,tipe:""},n}return Object(v.a)(t,[{key:"render",value:function(){var e=this.props,a=e.appContext,t=e.record;e.form,Object(V.a)(e,["appContext","record","form"]);return l.a.createElement("div",{className:"rencana-drawer-render-in-current-wrapper"},l.a.createElement(be.a,{title:"",placement:"top",closable:!0,onClose:this.onClose,visible:this.state.visibleDrawer,getContainer:!1,style:{position:"absolute"}},l.a.createElement(De,{appContext:a})),l.a.createElement(Te,{record:t,form:this.formRef}),l.a.createElement(ye.a,null,l.a.createElement(oe.a,{gutter:2,style:{textAlign:"center"}},l.a.createElement(se.a,{span:6},l.a.createElement(ge.a,{title:"Rencana Kerja (Mandays)",value:400,valueStyle:{fontSize:"smaller"}}),l.a.createElement(L.a,{style:{marginTop:16},type:"primary",onClick:this.showDrawer,size:"small"},"Detail")),l.a.createElement(se.a,{span:6},l.a.createElement(ge.a,{title:"Rencana Personel (Person)",value:5,valueStyle:{fontSize:"smaller"}}),l.a.createElement(L.a,{style:{marginTop:16},type:"primary",size:"small"},"Detail")),l.a.createElement(se.a,{span:6},l.a.createElement(ge.a,{title:"Rencana Biaya",value:35e8,valueStyle:{fontSize:"smaller"},prefix:"Rp."}),l.a.createElement(L.a,{style:{marginTop:16},type:"primary",size:"small"},"Detail")),l.a.createElement(se.a,{span:6},l.a.createElement(ge.a,{title:"Nilai Ambil Jasa",value:2,valueStyle:{fontSize:"smaller"},prefix:"Rp."}),l.a.createElement(L.a,{style:{marginTop:16},type:"primary",size:"small"},"Detail")))))}}]),t}(n.PureComponent),Ae=(t(414),we.a.Step),Ke=[{title:"Pre Screening",content:l.a.createElement(ze,null)},{title:"Pipeline",content:"Pipeline"},{title:"Siap Kerja (Mandat)",content:"Siap Kerja (Mandat)"},{title:"Implementasi",content:"Implementasi"},{title:"Closing",content:"Closing"}],Fe=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).state={current:0},n}return Object(v.a)(t,[{key:"next",value:function(){var e=this.state.current+1;this.setState({current:e})}},{key:"prev",value:function(){var e=this.state.current-1;this.setState({current:e})}},{key:"render",value:function(){var e=this,a=this.state.current,t=this.props,n=t.onDone,r=t.record,i=t.appContext,c=Object(V.a)(t,["onDone","record","appContext"]);return l.a.createElement(de.a,Object.assign({footer:[l.a.createElement(L.a,{key:"OK",type:"primary",onClick:this.props.onCancel,disabled:!0},"Edit")]},c),l.a.createElement(we.a,{current:a},Ke.map((function(e){return l.a.createElement(Ae,{key:e.title,title:e.title})}))),l.a.createElement("div",{className:"steps-content"},l.a.createElement(ze,{record:r,appContext:i})),l.a.createElement("div",{className:"steps-action"},a<Ke.length-1&&l.a.createElement(L.a,{type:"primary",onClick:function(){return e.next()}},"Next"),a===Ke.length-1&&l.a.createElement(L.a,{type:"primary",onClick:n},"Done"),a>0&&l.a.createElement(L.a,{style:{marginLeft:8},onClick:function(){return e.prev()}},"Previous")))}}]),t}(n.PureComponent),Ne=(t(415),re.a.TextArea),Be=ie.a.Option,Je={labelCol:{xs:{span:12},sm:{span:10}},wrapperCol:{xs:{span:10},sm:{span:12}}},Ve=[{title:"No",dataIndex:"id",key:"id",width:150},{title:"Tipe Biaya",dataIndex:"tipe_biaya",key:"tipe_biaya",width:150},{title:"Tanggal Realisasi",dataIndex:"tgl_realisasi",key:"tgl_realisasi",width:150},{title:"Deskripsi",dataIndex:"deskripsi",key:"deskripsi",width:150},{title:"Besar Biaya",dataIndex:"besar_biaya",key:"besar_biaya",width:150,render:function(e){return e.toLocaleString()}}],Le=function(e){e.handlers;var a=e.record,t=e.handlerMenu,n=a.id,r=l.a.createElement(C.a,{onClick:t},l.a.createElement(C.a.Item,{key:"edit",recordId:n},"Edit"),l.a.createElement(C.a.Item,{key:"delete",recordId:n},"Delete"));return l.a.createElement(H.a,{overlay:r},l.a.createElement(le.a,null))},He=(K(function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).handleClickActionMenu=function(e){e.item.props.recordId;e.key},n.handleEdit=function(e){n.realisasiService.getDataRealisasiById(e).then((function(e){n.setState({selectedRecord:e})})).catch((function(e){n.setState({loading:!1},(function(){return W.b.error("Terdapat gangguan saat mengunduh data")}))}))},n.handleDelete=function(e){n.setState({loading:!0},(function(){return n.deleteRecord(e)}))},n.getColumns=function(){var e=Ve.map((function(e){e.sortFunc;return Object(V.a)(e,["sortFunc"])}));return e.push({title:"Action",key:"actionColumn",render:n.actionColumnRenderer}),e},n.actionColumnRenderer=function(e,a){var t={editHandler:n.handleEdit,deleteHandler:n.handleDelete};return l.a.createElement(Le,{record:a,handlers:t,handlerMenu:n.handleClickActionMenu})},n.realisasiService=new ee(e.appContext),n.formRef=l.a.createRef(),n.state={selectedRecord:void 0},n}return Object(v.a)(t,[{key:"render",value:function(){var e=this.props,a=e.dataRealisasi,t=Object(V.a)(e,["dataRealisasi"]),n=0;n=a.map((function(e){return e.besar_biaya})).reduce((function(e,a){return e+a}),0);this.formRef;return l.a.createElement(de.a,t,l.a.createElement("div",{className:"table-box"},l.a.createElement(oe.a,{gutter:4},l.a.createElement(se.a,{span:8},l.a.createElement(ye.a,{title:""},l.a.createElement(ce.a,Object.assign({},Je,{colon:!1,ref:this.formRef}),l.a.createElement(oe.a,{gutter:8},l.a.createElement(se.a,{span:24},l.a.createElement(ce.a.Item,{label:"Kode Proyek",name:"kode_proyek"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Tahap",name:"tahap"},l.a.createElement(ie.a,{style:{width:160}},l.a.createElement(Be,{value:"1"},"Perjalanan Dinas"),l.a.createElement(Be,{value:"2"},"Konsultan"),l.a.createElement(Be,{value:"3"},"Operational Kantor"))),l.a.createElement(ce.a.Item,{label:"Tanggal Realisasi",name:"tgl_realisasi"},l.a.createElement(me.a,{format:"DD-MM-YYYY",size:"small"})),l.a.createElement(ce.a.Item,{label:"Deskripsi",name:"deskripsi"},l.a.createElement(Ne,{rows:2})),l.a.createElement(ce.a.Item,{label:" "},l.a.createElement(L.a,{className:"btn-save-realisasi",onClick:this.handleClick},"OK"))))))),l.a.createElement(se.a,{span:16},l.a.createElement(U.a,{columns:this.getColumns(),dataSource:a,rowKey:"id",footer:function(){return l.a.createElement("div",null,l.a.createElement(oe.a,{gutter:2},l.a.createElement(se.a,{span:8}),l.a.createElement(se.a,{span:8},l.a.createElement("span",{style:{fontWeight:"bold"}},"Total Biaya Realisasi")),l.a.createElement(se.a,{span:8},l.a.createElement("span",{style:{fontWeight:"bold"}},"Rp. ",n.toLocaleString()))))}})))))}}]),t}(n.PureComponent)),t(418),{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),We=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).state={visibleDrawer:!1},n}return Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.record;e.form.current.setFieldsValue({id:a.id,proyek:a.proyek,pemilik_proyek:a.pemilik_proyek,klien:a.klien})}},{key:"render",value:function(){var e=this.props.form;return l.a.createElement("div",{className:"edit-project-form"},l.a.createElement(ce.a,Object.assign({},He,{colon:!1,ref:e}),l.a.createElement(oe.a,null,l.a.createElement(se.a,{span:24},l.a.createElement(ce.a.Item,{label:"Kode Proyek",name:"id"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Nama Proyek",name:"proyek"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Pemilik Proyek",name:"pemilik_proyek"},l.a.createElement(re.a,{size:"small",disabled:!0})),l.a.createElement(ce.a.Item,{label:"Nama Client",name:"klien"},l.a.createElement(re.a,{size:"small",disabled:!0}))))))}}]),t}(n.PureComponent),Ue=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).formRef=l.a.createRef(),n.showDrawer=function(){n.setState({visibleDrawer:!0})},n.onClose=function(){n.setState({visibleDrawer:!1})},n.state={visibleDrawer:!1},n.elRef=l.a.createRef(),n}return Object(v.a)(t,[{key:"getContainer",value:function(e){return function(){return e&&"undefined"!==typeof document?document.getElementById(e):null}}},{key:"render",value:function(){var e=this.props,a=e.record,t=Object(V.a)(e,["record"]);return l.a.createElement(de.a,t,l.a.createElement("div",{className:"site-drawer-render-in-current-wrapper"},l.a.createElement(be.a,{title:"",placement:"top",closable:!0,onClose:this.onClose,visible:this.state.visibleDrawer,getContainer:!1,style:{position:"absolute"}},l.a.createElement("p",null,"Realisasi")),l.a.createElement(We,{record:a,form:this.formRef}),l.a.createElement(ye.a,null,l.a.createElement(oe.a,{gutter:2,style:{textAlign:"center"}},l.a.createElement(se.a,{span:6},l.a.createElement(ge.a,{title:"Realisasi Biaya",value:3e9,valueStyle:{fontSize:"smaller"},prefix:"Rp."}),l.a.createElement(L.a,{style:{marginTop:16},type:"primary",onClick:this.showDrawer,size:"small"},"Detail")),l.a.createElement(se.a,{span:6},l.a.createElement(ge.a,{title:"Invoice",value:4e9,valueStyle:{fontSize:"smaller"},prefix:"Rp."}),l.a.createElement(L.a,{style:{marginTop:16},type:"primary",size:"small"},"Detail")),l.a.createElement(se.a,{span:6},l.a.createElement(ge.a,{title:"Realisasi Kerja",value:300,valueStyle:{fontSize:"smaller"},suffix:""}),l.a.createElement(L.a,{style:{marginTop:16},type:"primary",size:"small"},"Detail")),l.a.createElement(se.a,{span:6},l.a.createElement(ge.a,{title:"Project Issues",value:2,valueStyle:{fontSize:"smaller"},suffix:""}),l.a.createElement(L.a,{style:{marginTop:16},type:"primary",size:"small"},"Detail"))))))}}]),t}(n.PureComponent),Ge="CREATE",$e="UPDATE",qe=[{title:"Kode Proyek",dataIndex:"id",key:"id",width:80},{title:"Klien",dataIndex:"klien",key:"klien",width:150},{title:"Proyek",dataIndex:"proyek",key:"proyek",width:150},{title:"Jangka Waktu",dataIndex:"jangka_waktu",key:"jangka_waktu",width:150},{title:"Potensi Pendapatan (Rp Juta)",dataIndex:"potensi_pendapatan",key:"potensi_pendapatan",width:150},{title:"Status",dataIndex:"status",key:"status",width:150}],Qe=function(e){var a=e.record,t=e.handlerRealisasi,n=a.id,r=l.a.createElement(C.a,{onClick:t},l.a.createElement(C.a.Item,{key:"biaya",recordId:n},"Realisasi Biaya"),l.a.createElement(C.a.Item,{key:"invoice"},"Invoice"),l.a.createElement(C.a.Item,{key:"kerja",recordId:n},"Realiasi Kerja"),l.a.createElement(C.a.Item,{key:"project-issues",recordId:n},"Project Issues"));return l.a.createElement(H.a,{overlay:r},l.a.createElement(ne.a,null))},Xe=function(e){e.handlers;var a=e.record,t=e.handlerMenu,n=a.id,r=l.a.createElement(C.a,{onClick:t},l.a.createElement(C.a.Item,{key:"info",recordId:n},"Info"),l.a.createElement(C.a.Item,{key:"realisasi",recordId:n},"Realisasi"),l.a.createElement(C.a.Item,{key:"add"},"Add"));return l.a.createElement(H.a,{overlay:r},l.a.createElement(le.a,null))},Ze=K(function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).handleClickActionMenu=function(e){var a=e.item.props.recordId;switch(e.key){case"edit":n.handleEdit(a);break;case"add":n.handleAdd();break;case"delete":n.handleDelete(a);break;case"info":n.handleInfo(a);break;case"realisasi":n.handleRealisasi(a)}},n.handleClickRealisasiMenu=function(e){var a=e.item.props.recordId;switch(e.key){case"biaya":n.handleRealisasiBiaya(a)}},n.handleRealisasiBiaya=function(e){n.realisasiService.getDataRealisasi(e).then((function(a){n.setState({loading:!1,dataRealisasi:a,realisasiFormVisible:!0,selectedProject:e})})).catch((function(e){n.setState({loading:!1},(function(){return W.b.error("Terdapat gangguan saat mengunduh data")}))}))},n.handleRealisasi=function(e){n.projectService.getDataProjectById(e).then((function(e){n.setState({loading:!1,selectedRecord:e,realisasiFormVisible:!0})})).catch((function(e){n.setState({loading:!1},(function(){return W.b.error("Terdapat gangguan saat mengunduh data")}))}))},n.handleAdd=function(){n.setState({loading:!1,action:Ge,selectedRecord:void 0,addFormVisible:!0,selectedRecordId:void 0})},n.handleEdit=function(e){n.projectService.getDataProjectById(e).then((function(a){console.debug("handleEdit",a),n.setState({loading:!1,action:$e,selectedRecord:a,editFormVisible:!0,selectedRecordId:e})})).catch((function(e){n.setState({loading:!1},(function(){return W.b.error("Terdapat gangguan saat mengunduh data")}))}))},n.handleDelete=function(e){n.setState({loading:!0},(function(){return n.deleteRecord(e)}))},n.handleInfo=function(e){n.projectService.getDataProjectById(e).then((function(a){n.setState({loading:!1,action:$e,selectedRecord:a,infoFormVisible:!0,selectedRecordId:e})})).catch((function(e){n.setState({loading:!1},(function(){return W.b.error("Terdapat gangguan saat mengunduh data")}))}))},n.getColumns=function(){var e=qe.map((function(e){e.sortFunc;return Object(V.a)(e,["sortFunc"])}));return e.push({title:"Action",key:"actionColumn",render:n.actionColumnRenderer}),e},n.detailRealisasiColumnRenderer=function(e,a){return l.a.createElement(Qe,{record:a,handlerRealisasi:n.handleClickRealisasiMenu})},n.actionColumnRenderer=function(e,a){var t={editHandler:n.handleEdit,addHandler:n.handleAdd,deleteHandler:n.handleDelete};return l.a.createElement(Xe,{record:a,handlers:t,handlerMenu:n.handleClickActionMenu})},n.fetchData=function(){n.projectService.getDataProject().then((function(e){n.setState({data:e,loading:!1,selectedRecordId:void 0})}))},n.addRecord=function(e){var a=function(){W.b.info("Data berhasil disimpan"),n.fetchData()};n.projectService.addDataProject(e).then((function(e){console.debug("addData",e),n.setState({loading:!1,selectedRecordId:void 0,addFormVisible:!1},a)})).catch((function(e){W.b.error("Data gagal disimpan "+e.endPoint,4,(function(){n.setState({loading:!1,selectedRecordId:void 0})}))}))},n.updateRecord=function(e){var a=function(){W.b.info("Data berhasil disimpan"),n.fetchData()};n.projectService.updateDataProject(e.id,e).then((function(e){console.debug("updateData",e),n.setState({loading:!1,selectedRecordId:void 0,editFormVisible:!1},a)})).catch((function(e){W.b.error("Data gagal disimpan "+e.endPoint,4,(function(){n.setState({loading:!1,selectedRecordId:void 0})}))}))},n.deleteRecord=function(e){var a=function(){W.b.info("Data berhasil dihapus"),n.fetchData()};n.projectService.deleteDataProject(e).then((function(e){console.debug("deleteData",e),n.setState({loading:!1,selectedRecordId:void 0},a)})).catch((function(e){W.b.error("Data gagal dihapus "+e.endPoint,4,(function(){n.setState({loading:!1,selectedRecordId:void 0})}))}))},n.handleEditFormClose=function(){n.setState({editFormVisible:!1})},n.handleEditFormSaveChange=function(e){n.setState({loading:!0},(function(){return n.updateRecord(e)}))},n.handleAddFormSaveChange=function(e){n.setState({loading:!0},(function(){return n.addRecord(e)}))},n.handleAddFormClose=function(){n.setState({addFormVisible:!1})},n.handleRealisasiFormClose=function(){n.setState({realisasiFormVisible:!1})},n.handleInfoFormClose=function(){n.setState({infoFormVisible:!1})},n.projectService=new Z(e.appContext),n.realisasiService=new ee(e.appContext),n.state={data:[],dataRealisasi:[],loading:!1,editFormVisible:!1,addFormVisible:!1,realisasiFormVisible:!1,infoFormVisible:!1,action:void 0,selectedRecordId:void 0,selectedRecord:void 0,selectedProject:void 0},n}return Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0},(function(){return e.fetchData()}))}},{key:"render",value:function(){var e=this.state,a=e.data,t=e.loading,n=e.addFormVisible,r=e.editFormVisible,i=e.selectedRecord,c=e.realisasiFormVisible,o=(e.dataRealisasi,e.selectedProject,e.infoFormVisible);return l.a.createElement("div",null,l.a.createElement(U.a,{columns:this.getColumns(),dataSource:a,rowKey:"kode_proyek",loading:!!t&&{size:"large",tip:"Memuat data..."}}),l.a.createElement(xe,{className:"edit-form-modal",width:"880px",title:"Edit",visible:r,appContext:this.props.appContext,onSaveChange:this.handleEditFormSaveChange,onCancel:this.handleEditFormClose,centered:!0,closable:!0,record:i,destroyOnClose:!0}),l.a.createElement(fe,{className:"edit-form-modal",width:"880px",title:"Add",visible:n,onSaveChange:this.handleAddFormSaveChange,onCancel:this.handleAddFormClose,centered:!0,closable:!0,destroyOnClose:!0,record:void 0}),l.a.createElement(Ue,{width:"600px",title:"Realisasi",visible:c,record:i,onCancel:this.handleRealisasiFormClose,centered:!0,closable:!0,destroyOnClose:!0,footer:null}),l.a.createElement(Fe,{width:"980px",tahap:1,record:i,title:"Info",visible:o,onCancel:this.handleInfoFormClose,onDone:this.handleInfoFormClose,destroyOnClose:!0,centered:!0,closable:!0,appContext:this.props.appContext}))}}]),t}(n.PureComponent)),ea="CREATE",aa="UPDATE",ta=[{title:"Kode Proyek",dataIndex:"id",key:"id",width:80},{title:"Calon Pengguna Jasa",dataIndex:"klien",key:"klien",width:150},{title:"Proyek",dataIndex:"proyek",key:"proyek",width:150},{title:"Jenis Jasa",dataIndex:"jenis_jasa",key:"jenis_jasa",width:150},{title:"Potensi Pendapatan (Rp Juta)",dataIndex:"potensi_pendapatan",key:"potensi_pendapatan",width:150},{title:"Deal Probability",dataIndex:"deal_probability",key:"deal_probability",width:150}],na=function(e){e.handlers;var a=e.record,t=e.handlerMenu,n=a.id,r=l.a.createElement(C.a,{onClick:t},l.a.createElement(C.a.Item,{key:"edit",recordId:n},"Edit"),l.a.createElement(C.a.Item,{key:"add"},"Add"),l.a.createElement(C.a.Item,{key:"delete",recordId:n},"Delete"));return l.a.createElement(H.a,{overlay:r},l.a.createElement(le.a,null))},la=K(function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).fetchData=function(){n.pipelineService.getDataPipeline().then((function(e){n.setState({data:e,loading:!1,selectedRecordId:void 0})}))},n.getColumns=function(){var e=ta.map((function(e){e.sortFunc;return Object(V.a)(e,["sortFunc"])}));return e.push({title:"Action",key:"actionColumn",render:n.actionColumnRenderer}),e},n.actionColumnRenderer=function(e,a){var t={editHandler:n.handleEdit,addHandler:n.handleAdd,deleteHandler:n.handleDelete};return l.a.createElement(na,{record:a,handlers:t,handlerMenu:n.handleClickActionMenu})},n.handleAdd=function(){n.setState({loading:!1,action:ea,selectedRecord:void 0,addFormVisible:!0,selectedRecordId:void 0})},n.handleEdit=function(e){n.projectService.getDataProjectById(e).then((function(a){console.debug("handleEdit",a),n.setState({loading:!1,action:aa,selectedRecord:a,editFormVisible:!0,selectedRecordId:e})})).catch((function(e){n.setState({loading:!1},(function(){return W.b.error("Terdapat gangguan saat mengunduh data")}))}))},n.handleDelete=function(e){n.setState({loading:!0},(function(){return n.deleteRecord(e)}))},n.handleClickActionMenu=function(e){var a=e.item.props.recordId;switch(e.key){case"edit":n.handleEdit(a);break;case"add":n.handleAdd();break;case"delete":n.handleDelete(a)}},n.pipelineService=new ae(e.appContext),n.state={data:[],loading:!1,editFormVisible:!1,addFormVisible:!1,action:void 0,selectedRecordId:void 0,selectedRecord:void 0},n}return Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0},(function(){return e.fetchData()}))}},{key:"render",value:function(){var e=this.state,a=e.data,t=e.loading;return l.a.createElement("div",null,l.a.createElement(U.a,{columns:this.getColumns(),dataSource:a,rowKey:"kode_proyek",loading:!!t&&{size:"large",tip:"Memuat data..."}}))}}]),t}(n.PureComponent)),ra=t(63),ia=t.n(ra),ca=t(108),oa=t.n(ca),sa=t(146),ma=(t(419),t(444)),da=t(445),ua={title:void 0,xAxis:[{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],crosshair:!0}],yAxis:[{labels:{format:"{value}",style:{color:ia.a.getOptions().colors[1]}},title:{text:"Jumlah",style:{color:ia.a.getOptions().colors[1]}}},{title:{text:"Rasio Bulanan Pendapatan DJK dan RKAP",style:{color:ia.a.getOptions().colors[0]}},labels:{format:"{value}%",style:{color:ia.a.getOptions().colors[0]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:100,verticalAlign:"top",y:0,floating:!0,backgroundColor:ia.a.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},colors:["#058DC7","#f2802e","#c2bcbc"],series:[{name:"RKAP Pendapatan per bulan (akumulatif)",type:"column",yAxis:1,data:[500,1800,2100,2300,3800,4050,6e3,7800,8300,9e3,9500,9750]},{name:"Pendapatan DJK",type:"column",yAxis:1,data:[100,2e3,2150,2300,6500,1e4,12e3,14100,14500,12e3,15e3,15500]},{name:"Rasio bulanan Pendapatan DJK dan RKAP",type:"spline",data:[23,126,108,102,189,239,205,190,150,45,125,200],tooltip:{valueSuffix:"%"}}]},pa={chart:{type:"column"},title:void 0,tooltip:{},xAxis:{categories:["Agustus"]},yAxis:{min:14200,title:{text:"Jumlah"}},legend:{layout:"vertical",align:"center",x:10,verticalAlign:"bottom",y:10,floating:!1,backgroundColor:ia.a.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},plotOptions:{column:{pointPadding:.2,borderWidth:0}},colors:["#058DC7","#f2802e"],series:[{name:"Realisasi DJK YTD Agustus 2019",data:[14452,0]},{name:"Target Pendpatan FY2019",data:[14300,0]}]},ha=K(function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){return Object(k.a)(this,t),a.call(this,e)}return Object(v.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"chart-pane"},l.a.createElement(oe.a,null,l.a.createElement(se.a,{span:24},l.a.createElement(ye.a,{title:""},l.a.createElement(oe.a,null,l.a.createElement(se.a,{span:18},l.a.createElement(ce.a.Item,{style:{display:"inline-block",width:"150px"}},l.a.createElement(me.a,null)),l.a.createElement("span",{style:{display:"inline-block",width:"24px",lineHeight:"32px",textAlign:"center"}},"To"),l.a.createElement(ce.a.Item,{style:{display:"inline-block",width:"150px"}},l.a.createElement(me.a,null)),l.a.createElement(ce.a.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},l.a.createElement(L.a,{onClick:this.handleClick},"Preview"))),l.a.createElement(se.a,{span:6,style:{textAlign:"right"}},l.a.createElement(sa.a,{title:"Export to Excel"},l.a.createElement(L.a,{shape:"circle",style:{marginRight:"5px"},icon:l.a.createElement(ma.a,null)})),l.a.createElement(sa.a,{title:"Export to Pdf"},l.a.createElement(L.a,{icon:l.a.createElement(da.a,null),shape:"circle"}))))))),l.a.createElement(oe.a,null,l.a.createElement(se.a,{span:9},l.a.createElement(ye.a,{title:"Pendapatan DJK YTD Agustus 2019",style:{textAlign:"center"}},l.a.createElement(oa.a,{key:"perKorpsCount",containerProps:{style:{height:"295px"}},highcharts:ia.a,options:pa}))),l.a.createElement(se.a,{span:15},l.a.createElement(ye.a,{title:"Realisasi Kinerja DJK Periode Jan - Agustus 2019",style:{textAlign:"center"}},l.a.createElement(oa.a,{key:"perKorpsCount",containerProps:{style:{height:"295px"}},highcharts:ia.a,options:ua})))))}}]),t}(n.PureComponent)),Ea=(t(420),{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:void 0,legend:{layout:"vertical",floating:!1,align:"left",verticalAlign:"top"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{size:160,center:[-100,150],allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"},showInLegend:!0}},credits:{enabled:!1},colors:["#058DC7","#f2802e"],series:[{name:"Programs",colorByPoint:!0,data:[{name:"Infrastruktur Program Strategis Pemerintah",y:67,sliced:!0,selected:!0},{name:"Infrastruktur Non Program Strategis Pemerintah",y:33}]}]}),fa={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:void 0,legend:{layout:"vertical",floating:!1,align:"left",verticalAlign:"top"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{size:160,center:[-100,150],allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"},showInLegend:!0}},credits:{enabled:!1},colors:["#058DC7","#f2802e"],series:[{name:"Programs",colorByPoint:!0,data:[{name:"Infrastruktur Program Strategis Pemerintah",y:33,sliced:!0,selected:!0},{name:"Infrastruktur Non Program Strategis Pemerintah",y:67}]}]},ba=K(function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){return Object(k.a)(this,t),a.call(this,e)}return Object(v.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"chart-pane"},l.a.createElement(oe.a,null,l.a.createElement(se.a,{span:24},l.a.createElement(ye.a,{title:""},l.a.createElement(oe.a,null,l.a.createElement(se.a,{span:18},l.a.createElement(ce.a.Item,{style:{display:"inline-block",width:"150px"}},l.a.createElement(re.a,{placeholder:"Tahun"})),l.a.createElement(ce.a.Item,{style:{display:"inline-block",width:"calc(50% - 12px)",margin:"0 8px"}},l.a.createElement(L.a,{onClick:this.handleClick},"Preview"))),l.a.createElement(se.a,{span:6,style:{textAlign:"right"}},l.a.createElement(sa.a,{title:"Export to Excel"},l.a.createElement(L.a,{shape:"circle",style:{marginRight:"5px"},icon:l.a.createElement(ma.a,null)})),l.a.createElement(sa.a,{title:"Export to Pdf"},l.a.createElement(L.a,{icon:l.a.createElement(da.a,null),shape:"circle"}))))))),l.a.createElement(oe.a,null,l.a.createElement(se.a,{span:12},l.a.createElement(ye.a,{title:"Total Proyek DJK",style:{textAlign:"center"}},l.a.createElement(oa.a,{key:"totalProyekDJK",containerProps:{style:{height:"295px"}},highcharts:ia.a,options:Ea}))),l.a.createElement(se.a,{span:12},l.a.createElement(ye.a,{title:"New Project Tahun 2019",style:{textAlign:"center"}},l.a.createElement(oa.a,{key:"newProjectDJK",containerProps:{style:{height:"295px"}},highcharts:ia.a,options:fa})))))}}]),t}(n.PureComponent)),ya=function(e){var a=e.layout,t=e.component,r=e.pageTitle,i=e.path,c=(e.render,Object(V.a)(e,["layout","component","pageTitle","path","render"]));return Object(n.useEffect)((function(){document.title=r||""})),l.a.createElement(a,{title:r},l.a.createElement(O.b,{path:i,render:function(e){var a=e.match,n=(a.path,a.url,a.params,Object(o.a)(Object(o.a)(Object(o.a)({},c),a.params),{},{routeParameters:{path:a.path,url:a.url}}));return l.a.createElement(t,n)}}))},ga=function(e){return l.a.createElement(O.d,null,l.a.createElement(O.a,{key:"redirect.home",exact:!0,from:"/",to:"/home"}),l.a.createElement(ya,{key:"home",path:"/home",exact:!0,layout:z,component:J}),l.a.createElement(ya,{key:"project",pageTitle:"List Project",exact:!0,layout:z,path:"/project",component:Ze}),l.a.createElement(ya,{key:"pipeline",pageTitle:"List Pipeline",exact:!0,layout:z,path:"/pipeline",component:la}),l.a.createElement(ya,{key:"ringkasan-kinerja",pageTitle:"Ringkasan Kinerja",exact:!0,layout:z,path:"/ringkasan-kinerja",component:ha}),l.a.createElement(ya,{key:"sebaran-proyek",pageTitle:"Sebaran Proyek",exact:!0,layout:z,path:"/sebaran-proyek",component:ba}))},ka={credentialStore:{}},va="".concat("/djk_project","/config/app.js"),ja=function(e){Object(j.a)(t,e);var a=Object(D.a)(t);function t(e){var n;return Object(k.a)(this,t),n=a.call(this,e),ka.credentialStore.cookies=n.cookies,n.state={configLoaded:!1},n}return Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;Q.a.get(va).then((function(a){if(a){var t=a.data,n=Object.assign({},ka.appConfig,t);Object.assign(ka,{appConfig:n}),e.setState((function(e){return{configLoaded:!0}}))}})).catch((function(a){console.log("Error when loading configuration",a.message),e.setState({configLoadError:a.message})}))}},{key:"renderApp",value:function(){return l.a.createElement(N,{appContext:ka},l.a.createElement(E.a,{history:d},l.a.createElement(O.d,null,l.a.createElement(ga,null))))}},{key:"render",value:function(){return this.state.configLoaded?this.renderApp():null}}]),t}(n.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(421);i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(c.a,{store:g},l.a.createElement(ja,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[229,1,2]]]);
//# sourceMappingURL=main.9d69c78c.chunk.js.map